{"version":3,"sources":["app/utils/util.ts","app/components/ReminderCol.tsx","app/components/BabyDataRow/component.tsx","app/utils/constants.ts","app/store/actions.ts","app/components/BabyDataRow/index.js","app/components/EditBaby/component.tsx","app/components/EditBaby/index.js","app/components/AddBabyModal/component.tsx","app/components/AddBabyModal/index.ts","app/components/BabiesDataTable/component.tsx","app/components/BabiesDataTable/index.js","app/RTL.tsx","config/fbConfig.js","config/fbAnalytics.js","app/App.tsx","serviceWorker.ts","app/store/reducer.ts","app/utils/persistence.ts","app/store/logger.ts","app/store/index.ts","index.tsx"],"names":["getJsonFromUrl","url","window","location","search","query","substr","result","split","forEach","part","item","nextURIComponent","decodeURIComponent","parseInt","isNaN","TypeError","e","paramsObjToUrl","params","Object","keys","map","paramKey","join","getAgeInMonths","birthday","today","Date","getFullYear","getMonth","stringToDate","str","sep","parts","day","toFixed","month","year","dateToStr","date","toString","padStart","slice","getBabyNextReminder","babySeenReminders","reminders","babySeenRemindersIds","r","id","_","find","includes","ReminderColComponent","this","props","reminder","isUrgent","onClick","classes","className","TableCell","align","clickable","urgent","data-id","name","unclickable","alert","React","Component","ReminderCol","withStyles","color","textDecoration","cursor","BabyDataRowComponent","onRemoveClick","baby","removeBaby","confirm","firstName","onReminderClick","babyId","birthdate","toDate","ageInMonths","util","nextReminder","seenReminders","isReminderUrgent","months","TableRow","tableRow","hover","key","component","scope","lastName","garden","Fab","variant","size","BabyDataRow","theme","fontWeight","transition","padding","IS_DEV","process","COLLECTIONS","BABIES","REMINDERS","APP_VERSION","VALID_USERNAME","ACTION_TYPES","SET_LOADING","SET_ERROR","SET_SUCCESS","setLoading","isGlobal","type","payload","setSuccess","msg","setError","err","dbOperation","dbFunction","successMsg","errMsg","dispatch","getState","a","async","getFirebase","getFirestore","addBaby","newBaby","firestore","collection","add","compose","connect","state","ordered","doc","delete","firestoreConnect","orderBy","EditBabyComponent","handleSubmit","isSeenChecked","isSeen","updateReminder","closeModal","onClose","undefined","fields","prevProps","prevState","currBaby","currReminder","labels","toISOString","value","i","label","setState","isOpen","Dialog","aria-labelledby","open","onSubmit","DialogTitle","DialogContent","DialogContentText","f","TextField","margin","inputProps","readOnly","disabled","fullWidth","comments","multiline","rows","FormControlLabel","control","Checkbox","autoFocus","checked","onChange","target","DialogActions","Button","CircularProgress","ownProps","pickedBabyReminder","reminderId","firebase","babyRef","newReminderRef","update","FieldValue","arrayUnion","addReminder","console","log","removeReminder","storeAs","AddBabyModal","handleTextChange","handler","splitted","length","nameInput","handleBirthdayChange","addNewBaby","required","DatePicker","inputVariant","disableFuture","animateYearScrolling","format","BabiesDataTableComponentA","onReminderChoose","addBabyClick","TableContainer","tblContainer","Table","stickyHeader","aria-label","TableHead","head","TableBody","babies","controllers","EditBaby","BabiesDataTableComponent","createStyles","fontSize","borderBottom","width","height","overflowX","overflowY","textAlign","paddingTop","filter","b","jss","create","plugins","jssPreset","rtl","rtlTheme","createMuiTheme","direction","RTL","StylesProvider","ThemeProvider","children","firebaseConfig","constants","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","analytics","logEvent","App","utils","DateFnsUtils","BabiesDataTable","consts","Boolean","hostname","match","DEFAULT_STATE","isLoading","PERSISTENCE_CODES","VERSION","USER_NAME","isNewVersion","serverVersion","userVersion","localStorage","getItem","updateVersion","setItem","isUserLoggedIn","Storage","prototype","setObj","obj","JSON","stringify","getObj","parse","initData","userInput","prompt","Error","validateUser","babiesWithReminders","babiesJSON","remindersWithId","remindersJSON","error","getBabies","trim","saveBabies","getReminders","handleVersion","persistence","getReduxLogger","createLogger","require","collapsed","action","startsWith","middlewares","thunk","withExtraArgument","push","reducer","combineReducers","loading","firestoreReducer","storeEnhancers","applyMiddleware","reduxFirestore","store","createStore","rrfProps","config","createFirestoreInstance","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c3f76dc4.chunk.js","sourcesContent":["import { Reminder, ReminderRef } from \"../interfaces\";\nimport _ from 'lodash';\n\nexport function getJsonFromUrl(url?: string) {\n  if(!url) url = window.location.search;\n  var query = url.substr(1);\n  var result: any = {};\n  query.split(\"&\").forEach(function(part: string) {\n\t\tvar item = part.split(\"=\");\n\t\tconst nextURIComponent = decodeURIComponent(item[1]);\n\t\t// Try to parse to int.\n\t\ttry {\n\t\t\tresult[item[0]] = parseInt(nextURIComponent);\n\t\t\tif (isNaN(result[item[0]])) throw new TypeError('NaN');\n\t\t} catch(e) {\n\t\t\tresult[item[0]] = nextURIComponent;\n\t\t}\n  });\n  return result;\n}\n\nexport function paramsObjToUrl(params: any) {\n\treturn (Object.keys(params).map((paramKey) => `${paramKey}=${params[paramKey]}`).join('&'));\n}\n\nexport const getAgeInMonths = (birthday: Date) => {\n\tconst today = new Date();\n\n\tconst years = today.getFullYear() - birthday.getFullYear();\n\tconst months = today.getMonth() - birthday.getMonth();\n\n\tconst ageInMonths = years * 12 + months;\n\n\treturn (ageInMonths);\n}\n\nconst getBabyNextReminder = (babySeenReminders: ReminderRef[], reminders: Reminder[]) : Reminder => {\n\t// Notice we count of reminders to be sorted from earliest to latest\n\t// find returns first object who doesn't includes in babySeenReminders\n\tconst babySeenRemindersIds = babySeenReminders.map(r => r.id);\n\treturn _.find(reminders, r => !babySeenRemindersIds.includes(r.id));\n}\n\nconst stringToDate = (str: string, sep: string = '.'): Date => {\n\tconst parts = str.split(sep);\n\tconst day = parseInt(parts[1]).toFixed(2);\n\tconst month = parseInt(parts[1]).toFixed(2);\n\tconst year = '20' + parts[2];\n\n\treturn new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n}\n\nconst dateToStr = (date: Date): string => `${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear().toString().slice(-2)}`;\n\n\nexport default {\n\tgetJsonFromUrl,\n\tparamsObjToUrl,\n\tgetAgeInMonths,\n\tstringToDate,\n\tdateToStr,\n\tgetBabyNextReminder\n}","import React from 'react';\nimport { Reminder } from '../interfaces';\nimport { withStyles, WithStyles, TableCell, TableCellProps } from '@material-ui/core';\n\ninterface Props extends WithStyles<typeof styles> {\n\treminder: Reminder;\n\tisUrgent: boolean;\n\tonClick: (ev: any) => void\n};\n\nclass ReminderColComponent extends React.Component<Props & TableCellProps, {}> {\n\n\trender() {\n\t\tconst {reminder, isUrgent, onClick, classes, className} = this.props;\n\t\tconst isReminder = !!reminder;\n\n\t\treturn (\n\t\t\tisReminder ? \n\t\t\t<TableCell align=\"center\" onClick={onClick} className={`${className} ${classes.clickable} ${isUrgent ? classes.urgent : ''}`} data-id={reminder.id}>\n\t\t\t\t{reminder.name}\n\t\t\t</TableCell> :\n\t\t\t<TableCell align=\"center\" className={`${className} ${classes.unclickable}`} onClick={() => alert('אין כאן תזכורת הניתנת לעריכה :)')}>\n\t\t\t\t-\n\t\t\t</TableCell>\n\t\t);\n\t}\n}\n\nconst styles = {\n\tclickable: {\n\t\tcolor: '#007bff',\n\t\ttextDecoration: 'underline',\n\t\tcursor: 'pointer',\n\t},\n\tunclickable: {\n\t\tcursor: 'not-allowed'\n\t},\n  urgent: {\n\t\tcolor: 'red'\n  },\n};\n\nexport const ReminderCol = withStyles(styles)(ReminderColComponent)","import React from 'react';\nimport { Baby } from '../../interfaces';\nimport util from '../../utils/util';\nimport { ReminderCol } from '../ReminderCol';\nimport { TableRow, TableCell, withStyles, Theme, WithStyles, Fab } from '@material-ui/core';\nimport { Reminder } from '../../interfaces';\nimport { Delete as RemoveIcon } from '@material-ui/icons';\n\ninterface Props extends WithStyles<typeof styles> {\n\tbaby: Baby;\n\treminders: Reminder[];\n\tonReminderClick: (reminderId: string, babyId: string) => void;\n\tremoveBaby: (id: string) => void;\n};\n\n\nclass BabyDataRowComponent extends React.Component<Props, {}> {\n\n\tonRemoveClick = () => {\n\t\tconst { baby, removeBaby } = this.props;\n\t\tconst isToRemove = window.confirm(`האם את בטוחה שברצונך למחוק את התינוק ${baby.firstName}`);\n\n\t\tif (!isToRemove) return;\n\n\t\tremoveBaby(baby.id);\n\t}\n\n\trender() {\n\t\tconst { baby, onReminderClick, classes, reminders } = this.props;\n\t\tconst { id: babyId } = baby;\n\t\tconst birthdate = baby.birthdate.toDate();\n\t\tconst ageInMonths = util.getAgeInMonths(birthdate);\n\t\tconst nextReminder = util.getBabyNextReminder(baby.seenReminders, reminders);\n\t\tconst isReminderUrgent = nextReminder && nextReminder.months <= ageInMonths;\n\n\t\treturn (\n\t\t\t<TableRow className={classes.tableRow} hover key={babyId}>\n\t\t\t\t<TableCell align=\"center\" component=\"th\" scope=\"row\">{baby.firstName} {baby.lastName}</TableCell>\n\t\t\t\t<TableCell align=\"center\">{util.dateToStr(birthdate)} - {ageInMonths} חודשים</TableCell>\n\t\t\t\t<TableCell align=\"center\">{baby.garden}</TableCell>\n\t\t\t\t<ReminderCol className=\"reminder_col\" reminder={nextReminder} isUrgent={isReminderUrgent} onClick={() => onReminderClick(nextReminder.id, babyId)} />\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t<Fab color=\"secondary\" variant=\"extended\" size=\"small\" onClick={this.onRemoveClick}>\n\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t</Fab>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t);\n\t}\n}\n\nconst styles = (theme: Theme) => ({\n\ttableRow: {\n\t\t\t'&:hover': {\n\t\t\t\t'& .reminder_col': {\n\t\t\t\t\tfontWeight: 'bold'\n\t\t\t\t}\n\t\t\t},\n\t\t\t'& .reminder_col': {\n\t\t\t\ttransition: 'transform 0.3s'\n\t\t\t},\n\t\t\t// Take care of table cell padding\n\t\t\t'& .MuiTableCell-root': {\n\t\t\t\tpadding: '7px 4px 7px 0'\n\t\t\t}\n\t\t}\n});\n\nexport const BabyDataRow = withStyles(styles)(BabyDataRowComponent);\n\n","export const EDIT_FORM_URL = 'editBabyReminder.html';\nexport const HOME_URL = 'index.html';\nexport const IS_DEV = process.env.NODE_ENV !== `production`;\n\nexport const COLLECTIONS = {\n\tBABIES: 'babies',\n\tREMINDERS: 'reminders'\n};\n\nexport  default {\n\tAPP_VERSION: process.env.REACT_APP_VERSION,\n\tVALID_USERNAME: 'אורי',\n\tIS_DEV,\n\tCOLLECTIONS\n}","import { BabyNew, BabyReminder } from '../interfaces';\nimport { FirebaseFirestore } from '@firebase/firestore-types'\nimport { FirebaseApp } from '@firebase/app-types'\nimport { COLLECTIONS } from '../utils/constants';\n\ntype DBFunction = (firestore: FirebaseFirestore, firebase: FirebaseApp) => {};\n\nexport const ACTION_TYPES = {\n\tSET_LOADING: 'SET_LOADING',\n\tSET_ERROR: 'SET_ERROR',\n\tSET_SUCCESS: 'SET_SUCCESS'\n};\n\n// isGlobal can be used for spinner on root app.\nconst setLoading = (isGlobal = false) => ({\n\ttype: ACTION_TYPES.SET_LOADING,\n\tpayload: { isGlobal }\n})\n\nconst setSuccess = (msg = null) => ({\n\ttype: ACTION_TYPES.SET_SUCCESS,\n\tpayload: { msg }\n})\n\nconst setError = (err: string, msg = null) => ({\n\ttype: ACTION_TYPES.SET_ERROR,\n\tpayload: { err, msg }\n})\n\nconst dbOperation = (dbFunction: DBFunction, successMsg?: string, errMsg?: string, isGlobal?: boolean) => async (dispatch, getState, { getFirebase, getFirestore }) => {\n\ttry {\n\t\tdispatch(setLoading(isGlobal));\n\t\tawait dbFunction(getFirestore(), getFirebase())\n\t\tdispatch(setSuccess(successMsg));\n\t} catch(e) {\n\t\tdispatch(setError(e, errMsg))\n\t}\n}\n\nexport const addBaby = (newBaby: BabyNew) => {\n\tconst dbFunction: DBFunction = async (firestore) => {\n\t\tawait firestore.collection(COLLECTIONS.BABIES).add({\n\t\t\t...newBaby\n\t\t});\n\t}\n\tconst successMsg = \"Added baby successfuly!\";\n\tconst errMsg = \"Error adding baby...\";\n\tconst isGlobal = true;\n\n\treturn dbOperation(dbFunction, successMsg, errMsg, isGlobal);\n};\n\nexport const removeBaby = (babyId: string) => {\n\tconst dbFunction: DBFunction = async (firestore) => {\n\t\tawait firestore.collection(COLLECTIONS.BABIES).doc(babyId).delete();\n\t}\n\treturn dbOperation(dbFunction);\n}\n\nexport const addReminder = (payload: BabyReminder) => {\n\tconst dbFunction: DBFunction = async (firestore, firebase) => {\n\t\tconst babyRef = firestore.collection(COLLECTIONS.BABIES).doc(payload.babyId);\n\t\t// TODO: just get ref as prop, not id... for both baby and reminder\t\n\t\tconst newReminderRef = firestore.doc(`${COLLECTIONS.REMINDERS}/${payload.reminderId}`);\n\t\tawait babyRef.update({\n\t\t\t// @ts-ignore\n\t\t\tseenReminders: firebase.firestore.FieldValue.arrayUnion(newReminderRef)\n\t\t});\n\t}\n\tconst successMsg = \"Added reminder successfuly!\";\n\tconst errMsg = \"Error adding reminder...\";\n\tconst isGlobal = true;\n\n\treturn dbOperation(dbFunction, successMsg, errMsg, isGlobal);\n};\n\nexport const removeReminder = (payload: BabyReminder) => {\n\t// TODO: implement\n\tconsole.log(`this should remove reminder ${payload.reminderId} from baby ${payload.babyId}`);\n\t// type: ACTION_TYPES.REMOVE_REMINDER,\n\t// payload\n};","import { connect } from 'react-redux';\nimport { BabyDataRow as BabyDataRowComponent } from './component';\nimport { removeBaby } from '../../store/actions';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { COLLECTIONS } from '../../utils/constants';\n\nconst mapStateToProps = (state) => ({\n\treminders: state.firestore.ordered[COLLECTIONS.REMINDERS]\n});\n\nconst mapDistpatchToProps = (dispatch) => ({\n\tremoveBaby: (id) => dispatch(removeBaby(id))\n})\n\nexport default compose(\n\tconnect(mapStateToProps, mapDistpatchToProps),\n\tfirestoreConnect(() => [\n\t\t{\n\t\t\tcollection: COLLECTIONS.REMINDERS,\n\t\t\torderBy: ['months', 'asc']\n\t\t}\n\t])\n)(BabyDataRowComponent)","import React from 'react';\nimport { Baby, Reminder } from '../../interfaces';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, TextField, DialogActions, Button, Checkbox, FormControlLabel, CircularProgress } from '@material-ui/core'\n\ninterface Props {\n\t// From container\n\treminder: Reminder;\n\tbaby: Baby;\n\tupdateReminder: (isSeen: boolean) => void;\n\t// ownProps\n\tonClose: () => void;\n\tisOpen: boolean;\n};\n\ninterface State {\n\tisSeen: boolean;\n\tfields: {label: string, value: string | number}[];\n}\n\nexport class EditBabyComponent extends React.Component<Props, State> {\t\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisSeen: undefined,\n\t\t\tfields: undefined\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps: Props, prevState: State) {\n\t\tconst { baby: currBaby, reminder: currReminder } = this.props;\n\t\tconst isStateInitialized = !!prevState.fields;\n\n\t\t// We use this function here to initalize state for upcoming data only.\n\t\tif (isStateInitialized) return;\n\n\n\t\tif (currBaby && currReminder) {\n\t\t\tconst labels = [\n\t\t\t\t\"שם תינוק\",\n\t\t\t\t\"תאריך לידה\",\n\t\t\t\t\"גיל הופעת התזכורת (חודשים)\",\n\t\t\t\t\"שם תזכורת\"\n\t\t\t];\n\t\t\tconst values = [`${currBaby.firstName}${currBaby.lastName ? ` ${currBaby.lastName}` : ''}`, currBaby.birthdate.toDate().toISOString().slice(0,10), currReminder.months, currReminder.name];\n\t\n\t\t\tconst fields = values.map((value, i) => ({label: labels[i], value}))\n\t\n\t\t\tthis.setState({\n\t\t\t\tfields, \n\t\t\t\tisSeen: currBaby.seenReminders.map(r => r.id).includes(currReminder.id)\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSubmit = () => {\n\t\tconst isSeenChecked = this.state.isSeen;\n\t\tthis.props.updateReminder(isSeenChecked);\n\n\t\t// Return to home.\n\t\tthis.closeModal();\n\t}\n\n\tcloseModal = () => {\n\t\tthis.props.onClose();\n\t}\n\n\trender() {\n\t\tconst { isOpen, baby, reminder } = this.props;\n\t\tconst { isSeen, fields } = this.state;\n\t\tconst isLoaded = !!fields;\n\n\t\tif (!isLoaded) {\n\t\t\treturn (\n\t\t\t\t<Dialog\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\topen={isOpen}\n\t\t\t\tonClose={this.closeModal}\n\t\t\t\t >\n\t        <DialogTitle id=\"form-dialog-title\">טוען...</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t <CircularProgress />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t </Dialog>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\topen={isOpen}\n\t\t\t\tonClose={this.closeModal}\n\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t >\n        <DialogTitle id=\"form-dialog-title\">תינוק {baby.firstName} - תזכורת {reminder.name}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            כאן ניתן לערוך פרטי התזכורת. כרגע הכוונה היא רק ל'סיימתי עם התזכורת'.\n          </DialogContentText>\n\t\t\t\t\t{\n\t\t\t\t\t\tfields.map(f => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tkey={`field_${f.label}`}\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tlabel={f.label}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={f.value}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.87)'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tbaby.comments &&\n\t\t\t\t<TextField\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tlabel=\"מידע נוסף\"\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.87)'\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={baby.comments}\n\t\t\t\t\tfullWidth\n          multiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\trows={4}\n        />}\n\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tchecked={isSeen}\n\t\t\t\t\t\t\tonChange={({target}) => this.setState({isSeen: target.checked})}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tlabel=\"סיימתי עם התזכורת\"\n\t\t\t\t/>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.closeModal} color=\"secondary\">\n            בטל\n          </Button>\n          <Button onClick={this.handleSubmit} color=\"primary\">\n            עדכן\n          </Button>\n        </DialogActions>\n      </Dialog>\n\t\t\t);\n\t}\n}","import { connect } from 'react-redux';\nimport { addReminder, removeReminder } from '../../store/actions';\nimport { EditBabyComponent } from './component';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { COLLECTIONS } from '../../utils/constants';\n\nconst babyPath = 'currentBaby';\nconst reminderPath = 'currentReminder';\n\nconst mapStateToProps = (state) => ({\n\tbaby: state.firestore.ordered[babyPath] && state.firestore.ordered[babyPath][0],\n\treminder: state.firestore.ordered[reminderPath] && state.firestore.ordered[reminderPath][0]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tupdateReminder: (isSeen) => {\n\t\tconst {babyId, reminderId} = ownProps.pickedBabyReminder;\n\t\tconst payload = {\n\t\t\tbabyId,\n\t\t\treminderId\n\t\t};\n\n\t\tif (isSeen) {\n\t\t\tdispatch(addReminder(payload));\n\t\t} else {\n\t\t\tdispatch(removeReminder(payload));\n\t\t}\n\t}\n})\n\nexport default compose(\n\tconnect(mapStateToProps, mapDispatchToProps),\n\tfirestoreConnect((ownProps) => [\n\t\t{\n\t\t\tcollection: COLLECTIONS.BABIES,\n\t\t\tdoc: ownProps.pickedBabyReminder.babyId,\n\t\t\tstoreAs: babyPath\n\t\t},\n\t\t{\n\t\t\tcollection: COLLECTIONS.REMINDERS,\n\t\t\tdoc: ownProps.pickedBabyReminder.reminderId,\n\t\t\tstoreAs: reminderPath\n\t\t},\n\t])\n)(EditBabyComponent);","import React from 'react';\nimport { BabyNew } from '../../interfaces';\nimport { Dialog, DialogTitle, DialogContent, TextField, DialogActions, Button } from '@material-ui/core'\nimport { DatePicker } from '@material-ui/pickers';\n\ninterface Props {\n\t// From container\n\taddNewBaby: (newBaby: BabyNew) => void;\n\t// ownProps\n\tonClose: () => void;\n\tisOpen: boolean;\n};\n\ninterface State extends BabyNew {\n\tnameInput: string;\n}\n\nexport class AddBabyModal extends React.Component<Props, State> {\t\n\tfields: {label: string, handler: string, rows: number, required: boolean}[];\n\t\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tconst labels = [\n\t\t\t\"שם תינוק\",\n\t\t\t\"גן ילדים\",\n\t\t\t\"מידע נוסף על התינוק\"\n\t\t];\n\t\tconst handlers = ['name', 'garden', 'comments'];\n\t\tconst rows = [0, 0, 4]\n\n\t\tthis.fields = handlers.map((handler, i) => ({label: labels[i], handler, rows: rows[i], required: handler !== 'comments'}))\n\n\t\tthis.state = {\n\t\t\tbirthdate: new Date(),\n\t\t\tseenReminders: [],\n\t\t\tfirstName: '',\n\t\t\tlastName: '',\n\t\t\tgarden: '',\n\t\t\tcomments: '',\n\t\t\tnameInput: ''\n\t\t}\n\t}\n\n\thandleTextChange = (handler: string) => ({target}) => {\n\t\tif (handler === 'name') {\n\t\t\t// Notice: we assume only name change happens here..\n\t\t\tconst splitted = target.value.split(' ');\n\t\t\tconst firstName = splitted[0];\n\t\t\tconst lastName = splitted.length > 2 ? splitted.slice(1).join(' ') : '';\n\t\t\tthis.setState({\n\t\t\t\tnameInput: target.value,\n\t\t\t\tfirstName,\n\t\t\t\tlastName\n\t\t\t})\n\t\t} else {\n\t\t\t(this.setState as any)({[handler]: target.value});\n\t\t}\n\t\t\n\t}\n\n\thandleBirthdayChange = (date) => {\n\t\tthis.setState({birthdate: date});\n\t}\n\n\thandleSubmit = () => {\n\t\tconst newBaby = {\n\t\t\t...this.state\n\t\t}\n\t\t// TODO: find something nicer..\n\t\tdelete newBaby.nameInput;\n\n\t\tif (!newBaby.firstName) {\n\t\t\treturn alert('חובה להזין שם תינוק!');\n\t\t}\n\n\t\tthis.props.addNewBaby(newBaby);\n\t}\n\n\tcloseModal = () => {\n\t\tthis.props.onClose();\n\t}\n\n\trender() {\n\t\tconst { isOpen } = this.props;\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\topen={isOpen}\n\t\t\t\tonClose={this.closeModal}\n\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t >\n        <DialogTitle id=\"form-dialog-title\">הוספת תינוק {this.state.nameInput}</DialogTitle>\n        <DialogContent>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.fields.map(f => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tkey={`field_${f.label}`}\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tlabel={f.label}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\trequired={f.required}\n\t\t\t\t\t\t\t\tmultiline={!!f.rows}\n\t\t\t\t\t\t\t\trows={f.rows}\n\t\t\t\t\t\t\t\tvalue={this.state[f.handler]}\n\t\t\t\t\t\t\t\tonChange={this.handleTextChange(f.handler)}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\n  \t\t<DatePicker\n\t\t\t\trequired\n\t\t\t\tlabel=\"תאריך לידה\"\n\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\tmargin=\"normal\"\n\t\t\t\tdisableFuture\n\t\t\t\tfullWidth\n\t\t\t\tanimateYearScrolling\n\t\t\t\tformat=\"dd/MM/yyyy\"\n        value={this.state.birthdate}\n\t\t\t\tonChange={this.handleBirthdayChange}\n      />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.closeModal} color=\"secondary\">\n            בטל\n          </Button>\n          <Button onClick={this.handleSubmit} color=\"primary\">\n            הוסף\n          </Button>\n        </DialogActions>\n      </Dialog>\n\t\t\t);\n\t}\n}","import { connect } from 'react-redux';\nimport { AddBabyModal } from './component';\nimport { BabyNew } from '../../interfaces';\nimport { addBaby } from '../../store/actions';\n\ninterface Props {\n\tisOpen: boolean;\n\tonClose: () => void;\n};\n\n\nconst mapDispatchToProps = (dispatch, ownProps: Props) => ({\n\taddNewBaby: async (newBaby: BabyNew) => {\n\t\tawait dispatch(addBaby(newBaby));\n\t\tif (ownProps.onClose) ownProps.onClose();\n\t}\n})\n\nexport default connect(null, mapDispatchToProps)(AddBabyModal)","import React from 'react';\nimport { Baby } from '../../interfaces';\nimport BabyDataRowContainer from '../BabyDataRow';\nimport EditBabyContainer from '../EditBaby';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Theme, withStyles, WithStyles, createStyles, Button } from '@material-ui/core';\nimport AddBabyModal from '../AddBabyModal';\n\ninterface Props extends WithStyles<typeof styles> {\n\tbabies: Baby[];\n};\n\ninterface State {\n\tpickedBabyReminder: {\n\t\tbabyId: number,\n\t\treminderId: number\n\t} | null;\n\taddBabyClick: boolean;\n}\n\nclass BabiesDataTableComponentA extends React.Component<Props, State> {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpickedBabyReminder: null,\n\t\t\taddBabyClick: false\n\t\t};\n\t}\n\n\tonReminderChoose = (reminderId: number, babyId: number) => {\n\t\tthis.setState({pickedBabyReminder: {\n\t\t\treminderId,\n\t\t\tbabyId\n\t\t}});\n\t}\n\t\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"h-100 w-100\">\n\t\t\t\t<TableContainer className={classes.tblContainer}>\n\t\t\t\t\t<Table padding=\"checkbox\" stickyHeader aria-label=\"simple table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.head}>שם</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.head}>תאריך לידה</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.head}>גן ילדים</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.head}>תזכורת הבאה</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.head}></TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{this.props.babies.map((baby) => (\n\t\t\t\t\t\t\t\t<BabyDataRowContainer key={`BabyRow_${baby.id}`} baby={baby} onReminderClick={this.onReminderChoose} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<div className={classes.controllers}>\n\t\t\t\t\t<Button onClick={() => this.setState({addBabyClick: true})} variant=\"outlined\">הוסף תינוק</Button>\n\t\t\t\t</div>\n\t\t\t\t{this.state.pickedBabyReminder &&\n\t\t\t\t<EditBabyContainer isOpen={!!this.state.pickedBabyReminder} onClose={() => this.setState({pickedBabyReminder: null})} pickedBabyReminder={this.state.pickedBabyReminder} />}\n\t\t\t\t{\n\t\t\t\t\tthis.state.addBabyClick &&\n\t\t\t\t\t<AddBabyModal isOpen={this.state.addBabyClick} onClose={() => this.setState({addBabyClick: false})} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nconst CONTROLLERS_HEIGHT = '15%';\n\nconst styles = (theme: Theme) => createStyles({\n\thead: {\n\t\tfontWeight: 1000,\n\t\tfontSize: '1.2rem',\n\t\tborderBottom: '1px solid rgba(0, 0, 0, 0.4)'\n\t},\n\ttblContainer: {\n\t\twidth: '100%',\n\t\theight: `calc(100% - ${CONTROLLERS_HEIGHT})`,\n\t\toverflowX: 'hidden',\n\t\toverflowY: 'auto'\n\t},\n\tcontrollers: {\n\t\theight: CONTROLLERS_HEIGHT,\n\t\ttextAlign: 'center',\n\t\tpaddingTop: '7%'\n\t}\n})\n\nexport const BabiesDataTableComponent = withStyles(styles)(BabiesDataTableComponentA);","import { connect } from 'react-redux';\nimport { BabiesDataTableComponent } from './component';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { COLLECTIONS } from '../../utils/constants';\n\nconst mapStateToProps = (state) => {\n\tconst babies = state.firestore.ordered[COLLECTIONS.BABIES] || []\n\tconst onlyDateableBabies = babies.filter(b => b.birthdate)\n\treturn {\n\t\tbabies: onlyDateableBabies\n\t}\n};\n\nexport default compose(\n\tconnect(mapStateToProps),\n\tfirestoreConnect(() => [\n\t\t{\n\t\t\tcollection: COLLECTIONS.BABIES,\n\t\t\torderBy: [['garden', 'asc'], ['firstName', 'asc']]\n\t\t}\n\t])\n)(BabiesDataTableComponent)","import React from 'react';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { StylesProvider, jssPreset, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\n// Configure JSS\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\nconst rtlTheme = createMuiTheme({\n\tdirection: 'rtl',\n});\n\nexport default function RTL(props) {\n  return (\n    <StylesProvider jss={jss}>\n\t\t\t<ThemeProvider theme={rtlTheme}>\n      \t{props.children}\n\t\t\t</ThemeProvider>\n    </StylesProvider>\n  );\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/firebase-analytics'\nimport constants from '../app/utils/constants';\nimport createFbAnalytics from './fbAnalytics';\n// TODO: implement auth\n// import 'firebase/auth'\n\n// No problem making it public, apiKey is just an id, not a secret key\nlet firebaseConfig;\nif (constants.IS_DEV) {\n\tfirebaseConfig = {\n    apiKey: \"AIzaSyA4I8XjTZ4yU5OmMTN_lrjTs7nmIG6Fr6I\",\n    authDomain: \"adibaby-dev.firebaseapp.com\",\n    databaseURL: \"https://adibaby-dev.firebaseio.com\",\n    projectId: \"adibaby-dev\",\n    storageBucket: \"adibaby-dev.appspot.com\",\n    messagingSenderId: \"864184464261\",\n    appId: \"1:864184464261:web:719e1496a05021ddcf4aec\",\n    measurementId: \"G-8S7P3E257R\"\n\t};\n} else {\n\tfirebaseConfig = {\n\t\tapiKey: \"AIzaSyAmd1uPOVKDrZhNJLCzXGHm9amktO5Kq5o\",\n\t\tauthDomain: \"adibaby-0.firebaseapp.com\",\n\t\tdatabaseURL: \"https://adibaby-0.firebaseio.com\",\n\t\tprojectId: \"adibaby-0\",\n\t\tstorageBucket: \"adibaby-0.appspot.com\",\n\t\tmessagingSenderId: \"617595404517\",\n\t\tappId: \"1:617595404517:web:7264505de9a57c0dfed40c\",\n\t\tmeasurementId: \"G-WZXLXWPK27\"\n\t};\n}\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const analytics = createFbAnalytics(firebase);\nexport default firebase;","import { IS_DEV } from \"../app/utils/constants\";\n\nexport default function createFbAnalytics(firebase) {\n\tlet analyticsVar;\n\tif (IS_DEV) {\n\t\tanalyticsVar = (msg) => console.log(`Analytics event: ${msg}`)\n\t} else {\n\t\tanalyticsVar = firebase.analytics().logEvent;\n\t}\n\treturn analyticsVar;\n}","import React from 'react';\nimport './App.css';\nimport BabiesDataTableContainer from './components/BabiesDataTable';\nimport RTL from './RTL';\nimport consts from './utils/constants';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { analytics } from '../config/fbConfig';\n\nclass App extends React.Component<{}, {}> {\n\tcomponentDidMount() {\n\t\tanalytics('APP_MOUNTED');\n\t}\n\n  render() {\n\t\treturn (\n\t\t\t<RTL>\n\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<h1 className=\"h1 text-center pt-5\">תינוק תזכורת</h1>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<div className=\"container d-flex align-items-center body-content\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// Placeholder for router...\n\t\t\t\t\t\t\t\t<BabiesDataTableContainer />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<footer onClick={() => analytics('CLICK_ON_FOOTER')} className=\"ltr text-center blockquote-footer\">\n\t\t\t\t\t\t\tMade by Waffle (v{consts.APP_VERSION})\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t</div>\n\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t</RTL>\n  \t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Action } from 'redux';\nimport { ACTION_TYPES } from './actions';\n\ninterface state {\n\tisLoading: boolean;\n\tisGlobal: boolean;\n}\n\nconst DEFAULT_STATE: state = {isLoading: false, isGlobal: false};\n\nexport default function babyReducer(state = DEFAULT_STATE, action: Action<string>): state {\n\tconst { payload } = action as any;\n\n\tswitch(action.type) {\n\t\tcase (ACTION_TYPES.SET_LOADING):\n\t\t\tconsole.log('loading...');\n\t\t\treturn {\n\t\t\t\tisLoading: true,\n\t\t\t\tisGlobal: payload.isGlobal\n\t\t\t}\n\t\tcase (ACTION_TYPES.SET_SUCCESS):\n\t\t\tconsole.log('success!')\n\t\t\tif (payload.msg) {\n\t\t\t\tconsole.log(payload.msg);\n\t\t\t}\n\t\t\t// For both success and error\n\t\t\treturn DEFAULT_STATE;\n\t\tcase (ACTION_TYPES.SET_ERROR):\n\t\t\tconsole.error('error!', payload.err)\n\t\t\tif (payload.msg) {\n\t\t\t\tconsole.error(payload.msg);\n\t\t\t}\n\t\t\t// For both success and error\n\t\t\treturn DEFAULT_STATE;\n\t\tdefault:\n\t\t\treturn state;\n\t}\t\n}","import { Baby, Reminder } from \"../interfaces\"\nimport util from './util';\nimport babiesJSON from '../resources/babies.json'\nimport remindersJSON from '../resources/reminders.json'\nimport consts from './constants';\n\nexport const PERSISTENCE_CODES = {\n\tBABIES: 'BABIES',\n\tREMINDERS: 'REMINDERS',\n\tVERSION: 'VERSION',\n\tUSER_NAME: 'USER_NAME'\n}\n\nStorage.prototype.setObj = function(key: string, obj: Reminder | Baby) {\n\treturn this.setItem(key, JSON.stringify(obj))\n}\n\nStorage.prototype.getObj = function(key: string) {\n\ttry {\n\t\treturn JSON.parse(this.getItem(key) as string);\n\t}  catch(e) {\n\t\t// getItem didn't return string\n\t\treturn null;\n\t}\n}\n\nfunction handleVersion() {\n\tif (isNewVersion()) {\n\t\talert('גרסה חדשה!');\n\n\t\tupdateVersion();\n\t}\n}\n\nfunction isNewVersion() {\n\t// New version alert\n\tconst serverVersion = consts.APP_VERSION; \n\tconst userVersion = localStorage.getItem(PERSISTENCE_CODES.VERSION);\n\treturn (!userVersion || userVersion !== serverVersion);\n}\n\nfunction updateVersion() {\n\tconst serverVersion = consts.APP_VERSION;\n\tlocalStorage.setItem(PERSISTENCE_CODES.VERSION, serverVersion as string);\n}\n\nfunction isUserLoggedIn() {\n\treturn !!localStorage.getItem(PERSISTENCE_CODES.USER_NAME);\n}\n\nfunction validateUser() {\n\tif (isUserLoggedIn()) return;\n\n\t// Password protection (only if user doesn't exsists)\n\tconst userInput = prompt(\"שם משתמש:\", \"\");\n\tif (userInput !== consts.VALID_USERNAME) {\n\t\talert('אין לך גישה לאפליקציה. \\nרענן לניסיון נוסף');\n\t\tthrow new Error('User unrecognized. Validation failed.');\n\t} else {\n\t\talert('ברוכה הבאה! להבא לא תצטרכי להקיש הסיסמה :)');\n\t\tlocalStorage.setItem(PERSISTENCE_CODES.USER_NAME, userInput)\n\t}\n}\n\nfunction initData() {\n\tconst isDataExists = !!localStorage.getObj(PERSISTENCE_CODES.REMINDERS);\n\n\tif (isDataExists) return;\n\n\tvalidateUser();\n\n\ttry {\n\t\tconst babiesWithReminders = babiesJSON.map((b, id) => ({\n\t\t\tid,\n\t\t\tname: b.name + ' ' + b.lastName,\n\t\t\tbirthdate: b.birthdate ? util.stringToDate(b.birthdate) : null,\n\t\t\tgarden: b.garden,\n\t\t\tcomments: b.comments,\n\t\t\tseenReminders: []\n\t\t}));\n\n\t\tconst remindersWithId = remindersJSON.map((r, id) => ({\n\t\t\t...r,\n\t\t\tid\n\t\t}));\n\n\t\tlocalStorage.setObj(PERSISTENCE_CODES.REMINDERS, remindersWithId);\n\t\tlocalStorage.setObj(PERSISTENCE_CODES.BABIES, babiesWithReminders);\n\t} catch(e) {\n\t\tconsole.error('Error in initData(): ', e);\n\t}\n}\n\nfunction getReminders(): Reminder[] {\n\tconst reminders: any[] = localStorage.getObj(PERSISTENCE_CODES.REMINDERS);\n\n\tif (!reminders || !reminders.length) return [];\n\n\treturn reminders;\n}\n\nfunction getBabies(): Baby[] {\n\tconst babies: any[] = localStorage.getObj(PERSISTENCE_CODES.BABIES);\n\t\n\tif (!babies || !babies.length) return [];\n\t\n\treturn babies.map((b) => ({...b, name: b.name.trim(), birthdate: new Date(b.birthdate)}));\n}\n\nfunction saveBabies(babies: Baby[]) {\n\tlocalStorage.setObj(PERSISTENCE_CODES.BABIES, babies);\n}\n\nexport default {\n\tinitData,\n\tgetBabies,\n\tsaveBabies,\n\tgetReminders,\n\tisNewVersion,\n\tupdateVersion,\n\thandleVersion,\n\tisUserLoggedIn,\n\tpersistence: localStorage\n};","const getReduxLogger = () => {\n\t// Use require for loading only if func is called\n\tconst { createLogger } = require(`redux-logger`);\n\n\t// Make sure reduxFirestore updates remain collpased as it contains many unused data..\n\tconst logger = createLogger({\n\t\tcollapsed: (getState, action) => action.type.startsWith('@@reduxFirestore')\n\t});\n\n\treturn logger;\n}\n\nexport default getReduxLogger;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport loadingReducer from \"./reducer\";\nimport persistence from \"../utils/persistence\";\nimport thunk from 'redux-thunk';\nimport { reduxFirestore, getFirestore, firestoreReducer } from 'redux-firestore';\nimport { getFirebase } from 'react-redux-firebase';\nimport firebase from '../../config/fbConfig';\nimport getReduxLogger from \"./logger\";\nimport constants from \"../utils/constants\";\n\nconst middlewares = [\n\t// Thunk brings getFirestore and getFirebase to each thunk action creator\n\tthunk.withExtraArgument({ getFirestore, getFirebase })\n];\n\nif (constants.IS_DEV) {\n\tmiddlewares.push(getReduxLogger());\n}\n\nconst reducer = combineReducers({\n\tloading: loadingReducer,\n\tfirestore: firestoreReducer,\n})\n\npersistence.handleVersion();\n\nconst storeEnhancers = compose(\n\tapplyMiddleware(...middlewares),\n\treduxFirestore(firebase),\n)\n\nconst store = createStore(reducer, {}, storeEnhancers);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './app/store';\nimport { createFirestoreInstance } from 'redux-firestore'\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase';\nimport firebase from './config/fbConfig'\n\nconst rrfProps = {\n  firebase,\n  config: {},\n\tdispatch: store.dispatch,\n\tcreateFirestoreInstance\n}\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ReactReduxFirebaseProvider {...rrfProps}>\n\t\t\t<App />\n\t\t</ReactReduxFirebaseProvider>\n\t</Provider>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}