(this["webpackJsonpadi-baby"]=this["webpackJsonpadi-baby"]||[]).push([[0],{285:function(e,t,a){e.exports=a(482)},290:function(e,t,a){},448:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(12),o=a.n(c),l=(a(290),a(64)),s=a.n(l),d=(a(291),a(294),a(295),!1),u={BABIES:"babies",REMINDERS:"reminders"},m={APP_VERSION:"0.3.0",IS_DEV:d,COLLECTIONS:u};n=m.IS_DEV?{apiKey:"AIzaSyA4I8XjTZ4yU5OmMTN_lrjTs7nmIG6Fr6I",authDomain:"adibaby-dev.firebaseapp.com",databaseURL:"https://adibaby-dev.firebaseio.com",projectId:"adibaby-dev",storageBucket:"adibaby-dev.appspot.com",messagingSenderId:"864184464261",appId:"1:864184464261:web:719e1496a05021ddcf4aec",measurementId:"G-8S7P3E257R"}:{apiKey:"AIzaSyAmd1uPOVKDrZhNJLCzXGHm9amktO5Kq5o",authDomain:"adibaby-0.firebaseapp.com",databaseURL:"https://adibaby-0.firebaseio.com",projectId:"adibaby-0",storageBucket:"adibaby-0.appspot.com",messagingSenderId:"617595404517",appId:"1:617595404517:web:7264505de9a57c0dfed40c",measurementId:"G-WZXLXWPK27"},s.a.initializeApp(n);var b=new s.a.auth.GoogleAuthProvider;b.setCustomParameters({prompt:"select_account"});var f,p=function(){return s.a.auth().signInWithRedirect(b)},h=function(){return s.a.auth().signOut()},g=(f=s.a,d?function(e){return console.log("Analytics event: ".concat(e))}:f.analytics().logEvent),E=s.a,y=a(22),v=a(25),O=a(15),S=a(9),j=a(16),C=a(17),I=a(18),k=(a(448),a(534)),N=a(509),R=a(510),w=a(511),B=a(505),x=Object(B.a)((function(e){return{content:{padding:e.spacing(3)},spinner:{display:"flex",justifyContent:"center"}}}));var A=function(e){var t=x();return i.a.createElement(k.a,{"aria-labelledby":"form-dialog-title",open:!0},i.a.createElement(N.a,{id:"form-dialog-title"},"\u05d0\u05e0\u05d0 \u05d4\u05de\u05ea\u05d9\u05e0\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea..."),i.a.createElement(R.a,{className:t.content},i.a.createElement("div",{className:t.spinner},i.a.createElement(w.a,null))))},_=a(261),D=a.n(_),T={getAgeInMonths:function(e){var t=new Date;return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},stringToDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=e.split(t),n=parseInt(a[1]).toFixed(2),r=parseInt(a[1]).toFixed(2),i="20"+a[2];return new Date(parseInt(i),parseInt(r)-1,parseInt(n))},dateToStr:function(e){return"".concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear().toString().slice(-2))},getBabyNextReminder:function(e,t){var a=e.map((function(e){return e.id}));return D.a.find(t,(function(e){return!a.includes(e.id)}))},getTimeInDayGreet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getHours(),a=12,n=17;return t>=a&&t<=n?"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd":t>=n?"\u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1":"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1"}};var M=Object(y.b)((function(e){return{displayName:e.firebase.auth.displayName}}))((function(e){return i.a.createElement("header",{className:"container d-flex justify-content-between"},i.a.createElement("h1",{className:"m-auto text-center"},"\u05ea\u05d9\u05e0\u05d5\u05e7 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea"),i.a.createElement("h5",{className:"m-auto text-center"},T.getTimeInDayGreet(),i.a.createElement("br",null),e.displayName,"!"))})),L=a(512),F=a(5),V=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.reminder,a=e.isUrgent,n=e.onClick,r=e.classes,c=e.className;return!!t?i.a.createElement(L.a,{align:"center",onClick:n,className:"".concat(c," ").concat(r.clickable," ").concat(a?r.urgent:""),"data-id":t.id},t.name):i.a.createElement(L.a,{align:"center",className:"".concat(c," ").concat(r.unclickable),onClick:function(){return alert("\u05d0\u05d9\u05df \u05db\u05d0\u05df \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d4\u05e0\u05d9\u05ea\u05e0\u05ea \u05dc\u05e2\u05e8\u05d9\u05db\u05d4 :)")}},"-")}}]),t}(i.a.Component),P=Object(F.a)({clickable:{color:"#007bff",textDecoration:"underline",cursor:"pointer"},unclickable:{cursor:"not-allowed"},urgent:{color:"red"}})(V),U=a(513),W=a(514),G=a(515),q=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(j.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).onRemoveClick=function(){var e=a.props,t=e.baby,n=e.removeBaby;window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea \u05d1\u05d8\u05d5\u05d7\u05d4 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05ea\u05d9\u05e0\u05d5\u05e7 ".concat(t.firstName))&&n(t.id)},a}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.baby,a=e.onReminderClick,n=e.classes,r=e.reminders,c=t.id,o=t.birthdate.toDate(),l=T.getAgeInMonths(o),s=T.getBabyNextReminder(t.seenReminders,r),d=s&&s.months<=l;return i.a.createElement(U.a,{className:n.tableRow,hover:!0,key:c},i.a.createElement(L.a,{align:"center",component:"th",scope:"row"},t.firstName," ",t.lastName),i.a.createElement(L.a,{align:"center"},T.dateToStr(o)," - ",l," \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"),i.a.createElement(L.a,{align:"center"},t.garden),i.a.createElement(P,{className:"reminder_col",reminder:s,isUrgent:d,onClick:function(){return a(s.id,c)}}),i.a.createElement(L.a,{align:"center"},i.a.createElement(W.a,{color:"secondary",variant:"extended",size:"small",onClick:this.onRemoveClick},i.a.createElement(G.a,null))))}}]),t}(i.a.Component),z=Object(F.a)((function(e){return{tableRow:{"&:hover":{"& .reminder_col":{fontWeight:"bold"}},"& .reminder_col":{transition:"transform 0.3s"},"& .MuiTableCell-root":{padding:"7px 4px 7px 0"}}}}))(q),K=a(129),Y=a(32),X=a.n(Y),H={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SUCCESS:"SET_SUCCESS"},J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:H.SET_LOADING,payload:{isGlobal:e}}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:H.SET_SUCCESS,payload:{msg:e}}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:H.SET_ERROR,payload:{err:e,msg:t}}},Q=function(e,t,a,n){return function(r,i,c){var o,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o=c.getFirebase,l=c.getFirestore,i.prev=1,r(J(n)),i.next=5,X.a.awrap(e(l(),o()));case 5:r(Z(t)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),r($(i.t0,a));case 11:case"end":return i.stop()}}),null,null,[[1,8]])}},ee=function(e){return Q((function(t,a){var n;return X.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.auth().currentUser.uid,r.next=3,X.a.awrap(t.collection(u.BABIES).add(Object(K.a)({},e,{uid:n})));case 3:case"end":return r.stop()}}))}),"Added baby successfuly!","Error adding baby...",!0)},te=a(31),ae=Object(te.d)(Object(y.b)((function(e){return{uid:e.firebase.auth.uid,reminders:e.firestore.ordered[u.REMINDERS]}}),(function(e){return{removeBaby:function(t){return e((a=t,Q((function(e){return X.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.a.awrap(e.collection(u.BABIES).doc(a).delete());case 2:case"end":return t.stop()}}))}))));var a}}})),Object(v.firestoreConnect)((function(e){return[{collection:u.REMINDERS,orderBy:["months","asc"],where:[["uid","==",e.uid]]}]})))(z),ne=a(516),re=a(529),ie=a(517),ce=a(533),oe=a(519),le=a(520),se=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(j.a)(this,Object(C.a)(t).call(this,e))).handleSubmit=function(){var e=a.state.isSeen;a.props.updateReminder(e),a.closeModal()},a.closeModal=function(){a.props.onClose()},a.state={isSeen:void 0,fields:void 0},a}return Object(I.a)(t,e),Object(S.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.baby,r=a.reminder;if(!!!t.fields&&n&&r){var i=["\u05e9\u05dd \u05ea\u05d9\u05e0\u05d5\u05e7","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4","\u05d2\u05d9\u05dc \u05d4\u05d5\u05e4\u05e2\u05ea \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea (\u05d7\u05d5\u05d3\u05e9\u05d9\u05dd)","\u05e9\u05dd \u05ea\u05d6\u05db\u05d5\u05e8\u05ea"],c=["".concat(n.firstName).concat(n.lastName?" ".concat(n.lastName):""),n.birthdate.toDate().toISOString().slice(0,10),r.months,r.name].map((function(e,t){return{label:i[t],value:e}}));this.setState({fields:c,isSeen:n.seenReminders.map((function(e){return e.id})).includes(r.id)})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpen,n=t.baby,r=t.reminder,c=this.state,o=c.isSeen,l=c.fields;return!!l?i.a.createElement(k.a,{"aria-labelledby":"form-dialog-title",open:a,onClose:this.closeModal,onSubmit:this.handleSubmit},i.a.createElement(N.a,{id:"form-dialog-title"},"\u05ea\u05d9\u05e0\u05d5\u05e7 ",n.firstName," - \u05ea\u05d6\u05db\u05d5\u05e8\u05ea ",r.name),i.a.createElement(R.a,null,i.a.createElement(ne.a,null,"\u05db\u05d0\u05df \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05e8\u05d5\u05da \u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea. \u05db\u05e8\u05d2\u05e2 \u05d4\u05db\u05d5\u05d5\u05e0\u05d4 \u05d4\u05d9\u05d0 \u05e8\u05e7 \u05dc'\u05e1\u05d9\u05d9\u05de\u05ea\u05d9 \u05e2\u05dd \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea'."),l.map((function(e){return i.a.createElement(re.a,{key:"field_".concat(e.label),margin:"normal",label:e.label,type:"text",value:e.value,variant:"outlined",inputProps:{readOnly:!0,disabled:!0,color:"rgba(0, 0, 0, 0.87)"},fullWidth:!0})})),n.comments&&i.a.createElement(re.a,{margin:"normal",label:"\u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3",inputProps:{readOnly:!0,disabled:!0,color:"rgba(0, 0, 0, 0.87)"},value:n.comments,fullWidth:!0,multiline:!0,variant:"outlined",rows:4}),i.a.createElement(ie.a,{control:i.a.createElement(ce.a,{autoFocus:!0,checked:o,onChange:function(t){var a=t.target;return e.setState({isSeen:a.checked})},color:"primary"}),label:"\u05e1\u05d9\u05d9\u05de\u05ea\u05d9 \u05e2\u05dd \u05d4\u05ea\u05d6\u05db\u05d5\u05e8\u05ea"})),i.a.createElement(oe.a,null,i.a.createElement(le.a,{onClick:this.closeModal,color:"secondary"},"\u05d1\u05d8\u05dc"),i.a.createElement(le.a,{onClick:this.handleSubmit,color:"primary"},"\u05e2\u05d3\u05db\u05df"))):i.a.createElement(k.a,{"aria-labelledby":"form-dialog-title",open:a,onClose:this.closeModal},i.a.createElement(N.a,{id:"form-dialog-title"},"\u05d8\u05d5\u05e2\u05df..."),i.a.createElement(R.a,null,i.a.createElement(w.a,null)))}}]),t}(i.a.Component),de=Object(te.d)(Object(y.b)((function(e){return{baby:e.firestore.ordered.currentBaby&&e.firestore.ordered.currentBaby[0],reminder:e.firestore.ordered.currentReminder&&e.firestore.ordered.currentReminder[0]}}),(function(e,t){return{updateReminder:function(a){var n=t.pickedBabyReminder,r={babyId:n.babyId,reminderId:n.reminderId};e(a?function(e){return Q((function(t,a){var n,r;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.collection(u.BABIES).doc(e.babyId),r=t.doc("".concat(u.REMINDERS,"/").concat(e.reminderId)),i.next=4,X.a.awrap(n.update({seenReminders:a.firestore.FieldValue.arrayUnion(r)}));case 4:case"end":return i.stop()}}))}),"Added reminder successfuly!","Error adding reminder...",!0)}(r):function(e){console.log("this should remove reminder ".concat(e.reminderId," from baby ").concat(e.babyId))}(r))}}})),Object(v.firestoreConnect)((function(e){return[{collection:u.BABIES,doc:e.pickedBabyReminder.babyId,storeAs:"currentBaby"},{collection:u.REMINDERS,doc:e.pickedBabyReminder.reminderId,storeAs:"currentReminder"}]})))(se),ue=a(522),me=a(523),be=a(524),fe=a(525),pe=a(526),he=a(537),ge=a(8),Ee=a(530),ye=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(j.a)(this,Object(C.a)(t).call(this,e))).fields=void 0,a.handleTextChange=function(e){return function(t){var n=t.target;if("name"===e){var r=n.value.split(" "),i=r[0],c=r.length>2?r.slice(1).join(" "):"";a.setState({nameInput:n.value,firstName:i,lastName:c})}else a.setState(Object(ge.a)({},e,n.value))}},a.handleBirthdayChange=function(e){a.setState({birthdate:e})},a.handleSubmit=function(){var e=Object(K.a)({},a.state);if(delete e.nameInput,!e.firstName)return alert("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05d4\u05d6\u05d9\u05df \u05e9\u05dd \u05ea\u05d9\u05e0\u05d5\u05e7!");a.props.addNewBaby(e)},a.closeModal=function(){a.props.onClose()};var n=["\u05e9\u05dd \u05ea\u05d9\u05e0\u05d5\u05e7","\u05d2\u05df \u05d9\u05dc\u05d3\u05d9\u05dd","\u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3 \u05e2\u05dc \u05d4\u05ea\u05d9\u05e0\u05d5\u05e7"],r=[0,0,4];return a.fields=["name","garden","comments"].map((function(e,t){return{label:n[t],handler:e,rows:r[t],required:"comments"!==e}})),a.state={birthdate:new Date,seenReminders:[],firstName:"",lastName:"",garden:"",comments:"",nameInput:""},a}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isOpen;return i.a.createElement(k.a,{"aria-labelledby":"form-dialog-title",open:t,onClose:this.closeModal,onSubmit:this.handleSubmit},i.a.createElement(N.a,{id:"form-dialog-title"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d9\u05e0\u05d5\u05e7 ",this.state.nameInput),i.a.createElement(R.a,null,this.fields.map((function(t){return i.a.createElement(re.a,{key:"field_".concat(t.label),margin:"normal",label:t.label,type:"text",required:t.required,multiline:!!t.rows,rows:t.rows,value:e.state[t.handler],onChange:e.handleTextChange(t.handler),variant:"outlined",fullWidth:!0})})),i.a.createElement(Ee.a,{required:!0,label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",inputVariant:"outlined",margin:"normal",disableFuture:!0,fullWidth:!0,animateYearScrolling:!0,format:"dd/MM/yyyy",value:this.state.birthdate,onChange:this.handleBirthdayChange})),i.a.createElement(oe.a,null,i.a.createElement(le.a,{onClick:this.closeModal,color:"secondary"},"\u05d1\u05d8\u05dc"),i.a.createElement(le.a,{onClick:this.handleSubmit,color:"primary"},"\u05d4\u05d5\u05e1\u05e3")))}}]),t}(i.a.Component),ve=Object(y.b)(null,(function(e,t){return{addNewBaby:function(a){return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.a.awrap(e(ee(a)));case 2:t.onClose&&t.onClose();case 3:case"end":return n.stop()}}))}}}))(ye),Oe=a(521),Se=Object(B.a)((function(e){return{verticalCenter:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"100%"},textCenter:{textAlign:"center","& > *":{textAlign:"center"}},imgBig:{maxWidth:"100%",height:"auto"},imgSmall:{maxWidth:"50%",height:"auto"}}}));var je=function(e){var t=Se(),a=Object(Oe.a)((function(e){return e.breakpoints.between("sm","xl")}))?t.imgSmall:t.imgBig;return i.a.createElement("div",{className:"".concat(t.textCenter," ").concat(t.verticalCenter)},i.a.createElement("div",{className:t.textCenter},i.a.createElement("img",{className:a,src:"empty-state.jpg",alt:"no-data"})),e.children,i.a.createElement("span",{className:"small"},"Photos designed by ",i.a.createElement("a",{href:"http://www.freepik.com"},"slidesgo / Freepik")))},Ce=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(j.a)(this,Object(C.a)(t).call(this,e))).onReminderChoose=function(e,t){a.setState({pickedBabyReminder:{reminderId:e,babyId:t}})},a.addBabyClick=function(){return a.setState({addBabyClick:!0})},a.state={pickedBabyReminder:null,addBabyClick:!1},a}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.babies,r=t.isLoading,c=t.isEmpty;return r?i.a.createElement(w.a,{className:"m-auto"}):i.a.createElement("div",{className:"h-100 w-100"},i.a.createElement(ue.a,{className:a.tblContainer},c?i.a.createElement(je,null,i.a.createElement("h4",null,"\u05d0\u05d9\u05df \u05db\u05d0\u05df \u05ea\u05d9\u05e0\u05d5\u05e7\u05d5\u05ea \u05dc\u05de\u05e2\u05e7\u05d1 ",i.a.createElement("span",{className:"font-weight-bold"},"\u05e2\u05d3\u05d9\u05d9\u05df"),"..."),i.a.createElement("h5",null,i.a.createElement(me.a,{href:"#",onClick:this.addBabyClick},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d9\u05e0\u05d5\u05e7")," \u05d5\u05d4\u05d5\u05d0 \u05d9\u05d5\u05e4\u05d9\u05e2 \u05de\u05de\u05e9 \u05db\u05d0\u05df.")):i.a.createElement(be.a,{padding:"checkbox",stickyHeader:!0,"aria-label":"simple table"},i.a.createElement(fe.a,null,i.a.createElement(U.a,null,i.a.createElement(L.a,{align:"center",className:a.head},"\u05e9\u05dd"),i.a.createElement(L.a,{align:"center",className:a.head},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),i.a.createElement(L.a,{align:"center",className:a.head},"\u05d2\u05df \u05d9\u05dc\u05d3\u05d9\u05dd"),i.a.createElement(L.a,{align:"center",className:a.head},"\u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05d4\u05d1\u05d0\u05d4"),i.a.createElement(L.a,{align:"center",className:a.head}))),i.a.createElement(pe.a,null,n.map((function(t){return i.a.createElement(ae,{key:"BabyRow_".concat(t.id),baby:t,onReminderClick:e.onReminderChoose})}))))),i.a.createElement("div",{className:a.controllers},i.a.createElement(le.a,{onClick:this.addBabyClick,variant:"outlined"},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d9\u05e0\u05d5\u05e7")),this.state.pickedBabyReminder&&i.a.createElement(de,{isOpen:!!this.state.pickedBabyReminder,onClose:function(){return e.setState({pickedBabyReminder:null})},pickedBabyReminder:this.state.pickedBabyReminder}),this.state.addBabyClick&&i.a.createElement(ve,{isOpen:this.state.addBabyClick,onClose:function(){return e.setState({addBabyClick:!1})}}))}}]),t}(i.a.Component),Ie=Object(F.a)((function(e){return Object(he.a)({head:{fontWeight:1e3,fontSize:"1.2rem",borderBottom:"1px solid rgba(0, 0, 0, 0.4)"},tblContainer:{position:"relative",width:"100%",height:"calc(100% - ".concat("15%",")"),overflowX:"hidden",overflowY:"auto"},controllers:{height:"15%",textAlign:"center",paddingTop:"7%"}})}))(Ce),ke=Object(te.d)(Object(y.b)((function(e){var t=e.firebase,a=e.firestore,n=u.BABIES;return{uid:t.auth.uid,babies:(a.ordered[n]||[]).filter((function(e){return e.birthdate})),isLoading:!Object(v.isLoaded)(a.data[n]),isEmpty:Object(v.isEmpty)(a.data[n])}})),Object(v.firestoreConnect)((function(e){return[{collection:u.BABIES,orderBy:[["garden","asc"],["firstName","asc"]],where:[["uid","==",e.uid]]}]})))(Ie);function Ne(e){e.children;return i.a.createElement("div",{className:"container d-flex align-items-center body-content"},i.a.createElement(ke,null))}var Re=a(1);function we(e){var t=Object(Re.a)({},e);return i.a.createElement("footer",Object.assign({},t,{className:"ltr text-center blockquote-footer"}),"Made by Waffle (v",m.APP_VERSION,")")}var Be=a(527),xe=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onClick;return i.a.createElement("div",{className:t.root},i.a.createElement(W.a,{onClick:a,color:"secondary","aria-label":"edit"},i.a.createElement(Be.a,null)))}}]),t}(i.a.Component),Ae=Object(F.a)({root:{position:"fixed",bottom:"1em",left:"1em"}})(xe),_e=Object(y.b)(null,(function(){return{onClick:h}}))(Ae),De=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.analytics,a=e.handleVersion;t.mount(),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoggedIn,n=t.isLoading,r=t.authUser;n||a||r()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.isLoggedIn,n=e.analytics;return t||!a?i.a.createElement(A,null):i.a.createElement("div",{className:"App"},i.a.createElement(M,null),i.a.createElement(Ne,null),i.a.createElement(we,{onClick:n.fotterClick}),a&&i.a.createElement(_e,null))}}]),t}(i.a.Component),Te={VERSION:"VERSION"};function Me(){var e=m.APP_VERSION,t=localStorage.getItem(Te.VERSION);return!t||t!==e}function Le(){var e=m.APP_VERSION;localStorage.setItem(Te.VERSION,e)}var Fe={isNewVersion:Me,updateUserVersion:Le,handleVersion:function(){Me()&&(alert("\u05d2\u05e8\u05e1\u05d4 \u05d7\u05d3\u05e9\u05d4!"),Le())}},Ve=Object(y.b)((function(e){return{isLoading:!Object(v.isLoaded)(e.firebase.auth),isLoggedIn:!e.firebase.auth.isEmpty}}),(function(){return{authUser:p,analytics:{mount:function(){return g("APP_MOUNTED")},fotterClick:function(){return g("CLICK_ON_FOOTER")}},handleVersion:Fe.handleVersion}}))(De),Pe={isLoading:!1,isGlobal:!1};var Ue=a(264),We=a(78),Ge=function(){return(0,a(481).createLogger)({collapsed:function(e,t){return t.type.startsWith("@@reduxFirestore")||t.type.startsWith("@@reactReduxFirebase")}})},qe=[Ue.a.withExtraArgument({getFirestore:We.getFirestore,getFirebase:v.getFirebase})];m.IS_DEV&&qe.push(Ge());var ze=Object(te.c)({loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case H.SET_LOADING:return console.log("loading..."),{isLoading:!0,isGlobal:a.isGlobal};case H.SET_SUCCESS:return console.log("success!"),a.msg&&console.log(a.msg),Pe;case H.SET_ERROR:return console.error("error!",a.err),a.msg&&console.error(a.msg),Pe;default:return e}},firestore:We.firestoreReducer,firebase:v.firebaseReducer}),Ke=Object(te.d)(te.a.apply(void 0,qe),Object(We.reduxFirestore)(E)),Ye=Object(te.e)(ze,{},Ke),Xe=a(23),He=a(266),Je=a(39),Ze=a(20),$e=a(265),Qe=a.n($e),et=a(531),tt=a(267),at=a(538),nt=a(528),rt=Object(Ze.b)({plugins:[].concat(Object(Je.a)(Object(et.a)().plugins),[Qe()()])}),it=Object(tt.a)({direction:"rtl"});function ct(e){var t=e.children;return i.a.createElement(at.b,{jss:rt},i.a.createElement(nt.a,{theme:it},t))}var ot={firebase:E,config:{},dispatch:Ye.dispatch,createFirestoreInstance:We.createFirestoreInstance};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement((function(e){var t=e.children;return i.a.createElement(y.a,{store:Ye},i.a.createElement(v.ReactReduxFirebaseProvider,ot,i.a.createElement(ct,null,i.a.createElement(Xe.a,{utils:He.a},t))))}),null,i.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[285,1,2]]]);
//# sourceMappingURL=main.ca4cd4c7.chunk.js.map